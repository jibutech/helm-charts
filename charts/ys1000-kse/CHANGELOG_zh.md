# 更新日志

本文件记录了该项目的所有重要变更。

## v3.10.1

### 错误修复 (v3.10.1)

* 修复ETCD备份对master节点容忍条件的支持
* 修复Amberapp Mysql lock bug
* 修复Amberapp Redis 无密码配置支持

## v3.10.0

### Kubernetes 集群备份

重构集群备份功能，通过Web界面新增集群实例，添加集群保护配置，实现K8S集群保护

### 容灾交互优化

重构容灾交互界面，优化页面布局和实例操作界面

### 容灾资源修改

支持针对容灾应用在不同集群的资源配置修改，常见修改如Confimap或Secret，同时支持基于JSON patch 的任意资源字段修改

### 容灾数据同步增强

支持对接Percona MongoDB集群容灾数据同步；增加通用外部触发数据卷同步配置

## v3.9.2

### 恢复支持任意资源修改

支持在恢复流程中提供对指定资源的修改操作，使用 JSON 合并 patch 和策略合并 patch 修改资源字段。
同时提供对Configmap, Secrets, Service, Ingress 实例中常见字段的简化修改界面

### 支持Openshift 应用迁移

适配Openshift容器环境，支持容器应用从Openshift平台迁移至标准Kubernetes平台

### 异构数据卷迁移支持

支持将`intree`或`hostPath` 数据卷迁移至标准CSI PVC数据卷

### KubeVirt 虚拟机备份保护 - 预览版

提供对 KubeVirt 虚拟机的备份保护，KubeVirt 版本 >= v1.0

## v3.8.2

### 错误修复 (v3.8.2)

* 修复通过模版选择工作负载进行备份，恢复后发现数据卷数据并没有恢复出来的问题
* 修复容灾amberapp在主集群故障切换时，切换失败的问题

## v3.8.1

### 迁移支持任意资源修改

在许多用例中，客户经常需要在恢复过程中替换 Kubernetes 资源中的特定值，例如更改命名空间、更改存储类等。

此版本引入的资源修改器在恢复工作流程中提供了通用解决方案。 它允许用户为特定资源定义过滤器，然后指定要应用于该资源的 JSON 合并 patch 和策略合并 patch。

### 迁移时的数据校验支持

创建迁移计划时，支持选择执行校验的集群和存储类

### 错误修复 (v3.8.1)

* 修复当集群未启用快照时备份失败的问题
* 修复容灾工作流钩子在某些集群不执行的问题
* 修复容灾切换时检测pod running重试失败的问题
* 卸载清理时删除容灾配置和容灾实例
* 仅资源恢复时排除快照资源
* 修复全量备份后无增量备份的问题
* 修复创建迁移计划时在高级配置页面无法点击“下一步”的问题

## 首次发布
